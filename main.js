(()=>{"use strict";function e(e,t,n){var r=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0);r.querySelector(".card__title").textContent=e.name;var o=r.querySelector(".card__image");return o.setAttribute("src",e.link),o.setAttribute("alt",e.name),r.querySelector(".card__delete-button").addEventListener("click",(function(e){e.target.parentElement.remove()})),r.querySelector(".card__like-button").addEventListener("click",(function(e){t(e.target)})),o.addEventListener("click",(function(e){n(e)})),r}function t(e){e.classList.toggle("card__like-button_is-active")}var n="";function r(){return n}function o(e){n=e,e.classList.add("popup_is-opened"),document.addEventListener("keydown",i),document.addEventListener("click",a)}function c(e){e.classList.remove("popup_is-opened"),e.querySelector(".popup__close").removeEventListener("click",c),document.removeEventListener("keydown",i),document.removeEventListener("click",a),n=""}function i(e){"Escape"===e.key&&c(r())}function a(e){e.target.classList.contains("popup")&&c(r())}var d=document.querySelector(".places__list");[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(n){var r=e(n,t,y);f(d,r)}));var s={edit:document.querySelector(".popup_type_edit"),newCard:document.querySelector(".popup_type_new-card"),image:document.querySelector(".popup_type_image")},u=function(e){s[e].classList.add("popup_is-animated"),s[e].querySelector(".popup__close").addEventListener("click",(function(t){c(s[e])}))};for(var p in s)u(p);document.querySelector(".profile__edit-button").addEventListener("click",(function(e){!function(e){for(var t in e)l.elements[t].value=e[t].textContent}({name:m,description:v}),o(s.edit)})),document.querySelector(".profile__add-button").addEventListener("click",(function(e){_.reset(),o(s.newCard)}));var l=document.forms["edit-profile"];l.addEventListener("submit",(function(e){e.preventDefault();var t={name:m,description:v};!function(e,t){for(var n in t)t[n].textContent=e[n].value}(l.elements,t),c(r())}));var m=document.querySelector(".profile__title"),v=document.querySelector(".profile__description"),_=document.forms["new-place"];function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"end";"begin"==n?e.prepend(t):"end"==n&&e.append(t)}function y(e){var t,n=function(e){var t=e.target.closest(".card");return{caption:t.querySelector(".card__title").textContent,src:t.querySelector(".card__image").src}}(e);t=n,k.textContent=t.caption,g.alt=t.caption,g.src=t.src,o(s.image)}_.addEventListener("submit",(function(n){n.preventDefault();var o=e({name:_.elements["place-name"].value,link:_.elements.link.value},t,y);f(d,o,"begin"),c(r()),_.reset()}));var k=s.image.querySelector(".popup__caption"),g=s.image.querySelector(".popup__image")})();